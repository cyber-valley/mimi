---
tools: [logseqDiff, githubAgent, telegramAgent]
input:
  schema:
    query: string
---

period ∈ {день, неделя, месяц}. Mentioned in the user's query or `week` otherwise

Utilize `githubAgent` to query issues from {devops force, rockets, inventory} projects for `🚀 Статус проектов и задач` section.

Utilize `githubAgent` to query issues from {supply} project for `📦 Инвентарь и поставки` section.

Utilize `telegramAgent` to find all messages and generate summary for:
- `💬 Основные темы и решения в чатах`
- `📢 Обсуждаемые темы`
- `✅ Принятые решения`

Utilize `logseqDiff` tool to get `git diff` changes from the given date and generate content for `🌱 Изменения в LogSeq`

Fill the fields and output in the following format:
{%begin template%}
📅 Саммари событий Cyber Valley
Период отчета: <period>

🚀 Статус проектов и задач
{%for project in githubProjects%}
<Title>

✅ Завершённые задачи:
 • <issueName>: <labels>

🔄 Текущие задачи:
 • <issueName>: <status, fields, summary>
{%endfor%}

📦 Поставки
 • <taskName>: <amount, summary>

🌱 Изменения в LogSeq:
<diff summary>

💬 Основные темы и решения в чатах

{%for chat in telegramChats%}
<Title>

📢 Обсуждаемые темы:
• <theme>: <short summary>

✅ Принятые решения:
• <decision>: <short summary and consequences>
{%endfor%}
{%end template%}

user's query: {{query}}
